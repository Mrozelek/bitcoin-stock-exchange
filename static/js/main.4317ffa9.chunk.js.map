{"version":3,"sources":["containers/SiteHeading/siteHeading.module.scss","App.module.scss","utils/SnackbarUtils.js","utils/stockBuilder.js","utils/constants.js","redux/reducers/stock/actions.js","redux/reducers/stock/reducer.js","services/databaseService.js","services/walletService.js","utils/errors.js","services/transactionService.js","redux/reducers/exchange/actions.js","redux/reducers/exchange/reducer.js","redux/reducers/index.js","redux/middlewares/transactionRegister.js","redux/configureMiddlewares.js","redux/configureStore.js","components/Text/Text.js","containers/CurrencyTable/index.js","components/Text/index.js","containers/SiteHeading/index.js","containers/SiteHeading/SiteHeading.js","containers/Transaction/Transaction.js","containers/Transaction/index.js","utils/colors.js","containers/CurrencyTable/CurrencyTable.js","containers/MarketPage/index.js","containers/MarketPage/MarketPage.js","App.js","index.js","containers/Transaction/transaction.module.scss","containers/MarketPage/marketPage.module.scss"],"names":["module","exports","useSnackbarRef","StockBuilder","name","this","toUpperCase","change","price","cap","imageUrl","uuid","BASE_CURRENCY","USERS_PROFILES_KEY","InnerSnackbarUtilsConfigurator","setUseSnackbarRef","useSnackbar","useSnackbarRefProp","SnackbarUtilsConfigurator","snackActions","success","msg","toast","variant","warning","info","error","options","enqueueSnackbar","dismiss","key","closeSnackbar","NO_CONNECTION_SNACKBAR_KEY","AVAILABLE_STOCKS","STOCK_GET_INIT","STOCK_GET_SUCCESS","STOCK_GET_FAILURE","fetchStockData","a","cacheBuster","Math","round","Date","getTime","url","join","axios","get","data","getTickers","dispatch","type","payload","stockData","message","preventDuplicate","persist","initialState","isLoading","isError","state","action","map","item","setName","symbol","setChange","price_change_percentage_24h","setPrice","current_price","setCap","market_cap","setImageUrl","image","build","database","getItem","localforage","setItem","value","getUserById","userId","find","user","setUser","profile","usersProfiles","userIndex","findIndex","push","calculateNewFunds","wallet","currencyName","amount","getFunds","oldFunds","setProfileFunds","newFunds","funds","updateFunds","walletService","userFunds","addFunds","subtractFunds","NotEnoughFundsError","constructor","Error","validateIfUserHasSufficientFunds","amountToPay","exchangeCrypto","currencyToBuy","currencyToPay","amountToBuy","buyCrypto","sellCrypto","EXCHANGE_MAKE_INIT","EXCHANGE_MAKE_SUCCESS","EXCHANGE_MAKE_FAILURE","makeExchangeFail","transactionInfo","makeExchangeSuccess","createRootReducer","history","combineReducers","router","connectRouter","stock","exchange","appendTransactionToProfile","transaction","transactions","registerTransaction","newTransactionRecord","time","DateTime","now","toISO","next","createHashHistory","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","routerMiddleware","thunk","customMiddlewares","types","HEADING_1","HEADING_2","HEADING_3","HEADING_4","HEADING_5","HEADING_6","PARAGRAPH_1","PARAGRAPH_2","LABEL","states","PRIMARY","SECONDARY","MUTED","ACCENT","WARNING","SUCCESS","ERROR","BRIGHT","isSupported","shouldBeParagraph","supportedTypes","Object","values","regex","filter","supportedType","test","some","Text","text","labelControl","classes","Tag","headerSize","slice","getHeadingSize","selectTag","htmlFor","className","defaultProps","canShowSpinner","preloadedState","SiteHeading","styles","wrapper","buttonContainer","color","defaultValues","isBuying","total","errorMessages","schema","yup","shape","required","positive","transform","val","Number","isNaN","undefined","Transaction","stockExchangeData","useForm","mode","resolver","yupResolver","reset","control","handleSubmit","watch","setValue","getValues","formState","errors","isValid","useDispatch","useEffect","dataItem","parseFloat","toFixed","onSubmit","transactionService","heading","render","field","checked","inputProps","form","id","labelId","label","disabled","helperText","onClick","TransactionWrapper","useSelector","roundNumber","number","formatIntegerPart","integerNumbers","split","i","numberFormatted","reduceRight","acc","curr","length","concat","formatPrice","priceRounded","priceFormatted","formatChange","changeRounded","formatCap","capRounded","capFormatted","CurrencyTable","stockExchangeDataFormatted","formatStockExchangeData","component","Component","aria-label","align","scope","alt","src","style","colors","useStyles","makeStyles","center","display","justifyContent","stockDataPrev","CurrencyTableWrapper","CircularProgress","MarketPage","intervalID","setInterval","clearInterval","table","App","databaseService","ETH","USD","store","createStore","ReactDOM","StrictMode","maxSnack","document","getElementById"],"mappings":"2HACAA,EAAOC,QAAU,CAAC,QAAU,6BAA6B,gBAAkB,uC,oBCA3ED,EAAOC,QAAU,CAAC,QAAU,uB,wFCOxBC,E,kICRSC,EAAb,gGACUC,GAEN,OADAC,KAAKD,KAAOA,EAAKE,cACVD,OAHX,gCAMYE,GAER,OADAF,KAAKE,OAASA,EACPF,OARX,+BAWWG,GAEP,OADAH,KAAKG,MAAQA,EACNH,OAbX,6BAgBSI,GAEL,OADAJ,KAAKI,IAAMA,EACJJ,OAlBX,kCAqBcK,GAEV,OADAL,KAAKK,SAAWA,EACTL,OAvBX,8BA2BI,MAAQ,CACNM,KAAMN,KAAKD,KACXA,KAAMC,KAAKD,KACXG,OAAQF,KAAKE,OACbC,MAAOH,KAAKG,MACZC,IAAKJ,KAAKI,IACVC,SAAUL,KAAKK,cAjCrB,K,0CCAaE,EAAgB,MAGhBC,EAAqB,gBFA5BC,EAAiC,SAAC,GAEtC,OADAC,EADgE,EAAxBA,mBACtBC,eACX,MAIHD,EAAoB,SAACE,GACzBf,EAAiBe,GAGNC,EAA4B,kBAAM,cAAC,EAAD,CAAgCH,kBAAmBA,KAErFI,EAAe,CAC1BC,QAD0B,SAClBC,GACNhB,KAAKiB,MAAMD,EAAK,CAAEE,QAAS,aAE7BC,QAJ0B,SAIlBH,GACNhB,KAAKiB,MAAMD,EAAK,CAAEE,QAAS,aAE7BE,KAP0B,SAOrBJ,GACHhB,KAAKiB,MAAMD,EAAK,CAAEE,QAAS,UAE7BG,MAV0B,SAUpBL,GACJhB,KAAKiB,MAAMD,EAAK,CAAEE,QAAS,WAE7BD,MAb0B,SAapBD,GAAoB,IAAfM,EAAc,uDAAJ,GACnBzB,EAAe0B,gBAAgBP,EAAKM,IAEtCE,QAhB0B,SAgBlBC,GACN5B,EAAe6B,cAAcD,KG3B3BE,EAA6B,eAC7BC,EAAmB,CACvB,UACA,WACA,UACA,WACA,SACA,WACA,UACA,YACA,WACA,WAGWC,EAAiB,iBACjBC,EAAoB,oBACpBC,EAAoB,oBAc3BC,EAAc,uCAAG,kCAAAC,EAAA,6DACfC,EAAcC,KAAKC,OAAM,IAAIC,MAAOC,UAAY,KAChDC,EAFe,UA/BN,iDA+BM,wBAEkBhC,EAFlB,gBAEuCqB,EAAiBY,KAAK,KAF7D,eAEwEN,GAFxE,SAGEO,IAAMC,IAAIH,GAHZ,uBAGbI,EAHa,EAGbA,KAHa,kBAIdA,GAJc,2CAAH,qDAOPC,EAAa,yDAAM,WAAOC,GAAP,eAAAZ,EAAA,6DAC9BY,EApBiC,CAAEC,KAAMjB,IAmBX,kBAGTG,IAHS,OAGtBW,EAHsB,OAI5BE,EAhB2C,CAC7CC,KAAMhB,EACNiB,QAAS,CAAEC,UAcgBL,KACzB7B,EAAaU,QAAQG,GALO,gDAO5BkB,GAxByBxB,EAwBH,KAAM4B,QAxBQ,CACtCH,KAAMf,EACNgB,QAAS,CAAE1B,YAuBTP,EAAaG,MAAM,KAAMgC,QAAS,CAChC/B,QAAS,QACTgC,kBAAkB,EAClBC,SAAS,EACT1B,IAAKE,IAZqB,kCAjBJ,IAACN,IAiBG,oBAAN,uDCvCb+B,EAAe,CAC1BJ,UAAW,GACXK,WAAW,EACXC,SAAS,EACTjC,MAAO,MAGM,aAAmC,IAAlCkC,EAAiC,uDAAzBH,EAAcI,EAAW,uCAC/C,OAAQA,EAAOV,MACb,KAAKjB,EACH,OAAO,2BACF0B,GADL,IAEEF,WAAW,EACXC,SAAS,EACTjC,MAAO+B,EAAa/B,QAGxB,KAAKS,EACH,OAAO,2BACFyB,GADL,IAEEP,UAAWQ,EAAOT,QAAQC,UAAUS,KAClC,SAACC,GAAD,OAAU,IAAI5D,GACX6D,QAAQD,EAAKE,QACbC,UAAUH,EAAKI,6BACfC,SAASL,EAAKM,eACdC,OAAOP,EAAKQ,YACZC,YAAYT,EAAKU,OACjBC,WAELhB,WAAW,IAGf,KAAKtB,EACH,OAAO,2BACFwB,GADL,IAEEP,UAAWI,EAAaJ,UACxBK,WAAW,EACXC,SAAS,EACTjC,MAAOmC,EAAOT,QAAQ1B,QAG1B,QACE,OAAOkC,I,kBC1CPe,EAAW,CACTC,QADS,SACD9C,GAAM,OAAD,6HACV+C,IAAYD,QAAQ9C,IADV,8CAGbgD,QAJS,SAIDhD,EAAKiD,GAAQ,OAAD,6HACjBF,IAAYC,QAAQhD,EAAKiD,IADR,+CAKfC,EAAW,uCAAG,WAAOC,GAAP,SAAA3C,EAAA,sEACnBqC,EAASC,QAAQ/D,GADE,uCACmBqE,MAAK,SAACC,GAAD,OAAUA,EAAKF,SAAWA,MADlD,2CAAH,sDAGXG,EAAO,uCAAG,WAAOC,GAAP,iBAAA/C,EAAA,sEACOqC,EAASC,QAAQ/D,GADxB,cACfyE,EADe,QAIF,KAFbC,EAAYD,EAAcE,WAAU,SAACL,GAAD,OAAUA,EAAKF,SAAWI,EAAQJ,WAG1EK,EAAcG,KAAKJ,GAEnBC,EAAcC,GAAaF,EAPR,SAUfV,EAASG,QAAQjE,EAAoByE,GAVtB,2CAAH,sDAaLX,IC1BTe,EAAiB,uCAAG,qCAAApD,EAAA,6DAAS2C,EAAT,EAASA,OAAQU,EAAjB,EAAiBA,OAAQC,EAAzB,EAAyBA,aAAcC,EAAvC,EAAuCA,OAAvC,SACDF,EAAOG,SAAS,CAAEb,SAAQW,iBADzB,cAClBG,EADkB,yBAEjBA,EAAWF,GAFM,2CAAH,sDAKjBG,EAAkB,SAAC,GAAyC,IAAvCX,EAAsC,EAAtCA,QAASY,EAA6B,EAA7BA,SAAUL,EAAmB,EAAnBA,aAC5CP,EAAQa,MAAMN,GAAgBK,GAG1BE,EAAW,uCAAG,uCAAA7D,EAAA,6DAAS2C,EAAT,EAASA,OAAQU,EAAjB,EAAiBA,OAAQC,EAAzB,EAAyBA,aAAcC,EAAvC,EAAuCA,OAAvC,SACKH,EAAkB,CAAET,SAAQU,SAAQC,eAAcC,WADvD,cACZI,EADY,gBAGIjB,EAAYC,GAHhB,cAGZI,EAHY,OAIlBW,EAAgB,CAAEX,UAASY,WAAUL,iBAJnB,UAMZR,EAAQC,GANI,4CAAH,sDASXe,EAAgB,CACdN,SADc,YACsB,OAAD,uHAAxBb,EAAwB,EAAxBA,OAAQW,EAAgB,EAAhBA,aAAgB,SACdZ,EAAYC,GADE,cACjCoB,EADiC,OACOH,MADP,kBAEhCN,EAAY,UAAGS,EAAUT,UAAb,QAA8B,EAAIS,GAFd,8CAKnCC,SANc,YAM8B,OAAD,qHAAhCrB,EAAgC,EAAhCA,OAAQW,EAAwB,EAAxBA,aAAcC,EAAU,EAAVA,OAAU,SACzCM,EAAY,CAAElB,SAAQU,OAAQS,EAAeR,eAAcC,WADlB,8CAI3CU,cAVc,YAUmC,OAAD,qHAAhCtB,EAAgC,EAAhCA,OAAQW,EAAwB,EAAxBA,aAAcC,EAAU,EAAVA,OAAU,SAC9CM,EAAY,CAAElB,SAAQU,OAAQS,EAAeR,eAAcC,QAASA,IADtB,+CAKzCO,I,yBCnCFI,GAAb,kDACE,aAAe,IAAD,8BACZ,cAAM,kCACDpG,KAAO,EAAKqG,YAAYrG,KAFjB,EADhB,uBAAyCsG,QCI5BC,GAAgC,uCAAG,mCAAArE,EAAA,6DAAS2C,EAAT,EAASA,OAAQU,EAAjB,EAAiBA,OAAQC,EAAzB,EAAyBA,aAAcgB,EAAvC,EAAuCA,YAAvC,SACjBjB,EAAOG,SAAS,CAAEb,SAAQW,iBADT,mBAGzBgB,GAHyB,sBAItC,IAAIJ,GAJkC,2CAAH,sDAQhCK,GAAc,uCAAG,uCAAAvE,EAAA,6DAAS2C,EAAT,EAASA,OAAQU,EAAjB,EAAiBA,OAAQmB,EAAzB,EAAyBA,cAAeC,EAAxC,EAAwCA,cAAeC,EAAvD,EAAuDA,YAAaJ,EAApE,EAAoEA,YAApE,SACtBD,GAAiC,CAAE1B,SAAQU,SAAQC,aAAcmB,EAAeH,gBAD1D,uBAGtBjB,EAAOW,SAAS,CAAErB,SAAQW,aAAckB,EAAejB,OAAQmB,IAHzC,uBAItBrB,EAAOY,cAAc,CAAEtB,SAAQW,aAAcmB,EAAelB,OAAQe,IAJ9C,2CAAH,sDAOZ,kBAACjB,EAAD,uDAAUS,EAAV,MAA6B,CACpCa,UADoC,YACgB,OAAD,uHAAvChC,EAAuC,EAAvCA,OAAQW,EAA+B,EAA/BA,aAAcC,EAAiB,EAAjBA,OAAQrF,EAAS,EAATA,MAAS,SACjDqG,GAAe,CACnB5B,SACAU,SACAmB,cAAelB,EACfmB,cAAenG,EACfoG,YAAanB,EACbe,YAAaf,EAASrF,IAP+B,8CAWnD0G,WAZoC,YAYiB,OAAD,uHAAvCjC,EAAuC,EAAvCA,OAAQW,EAA+B,EAA/BA,aAAcC,EAAiB,EAAjBA,OAAQrF,EAAS,EAATA,MAAS,SAClDqG,GAAe,CACnB5B,SACAU,SACAC,eACAkB,cAAelG,EACfmG,cAAenB,EACfoB,YAAanB,EAASrF,EACtBoG,YAAaf,IARyC,gDC1B/CsB,GAAqB,qBACrBC,GAAwB,wBACxBC,GAAwB,wBAIxBC,GAAmB,SAACC,EAAiB7F,GAAlB,MAA6B,CAC3DyB,KAAMkE,GACNjE,QAAS,CAAEmE,kBAAiB7F,WAGjB8F,GAAsB,SAACD,GAAD,MAAsB,CACvDpE,KAAMiE,GACNhE,QAAS,CAAEmE,qBChBA9D,GAAe,CAC1BC,WAAW,EACXC,SAAS,EACTjC,MAAO,MAGM,cAAmC,IAAlCkC,EAAiC,uDAAzBH,GAAcI,EAAW,uCAC/C,OAAQA,EAAOV,MACb,KAAKgE,GACH,OAAO,2BACFvD,GADL,IAEEF,WAAW,EACXC,SAAS,EACTjC,MAAO+B,GAAa/B,QAGxB,KAAK0F,GACH,OAAO,2BACFxD,GADL,IAEEF,WAAW,IAGf,KAAK2D,GACH,OAAO,2BACFzD,GADL,IAEEF,WAAW,EACXC,SAAS,EACTjC,MAAOmC,EAAOT,QAAQ1B,QAG1B,QACE,OAAOkC,ICtBE6D,GANW,SAACC,GAAD,OAAaC,YAAgB,CACrDC,OAAQC,YAAcH,GACtBI,QACAC,e,UCLIC,GAA6B,SAAC3C,EAAS4C,GAC3C5C,EAAQ6C,aAAR,sBAA2B7C,EAAQ6C,cAAnC,CAAiDD,KAYpCE,GATU,uCAAG,WAAOZ,EAAiB7F,GAAxB,mBAAAY,EAAA,6DACpB8F,EAAuB,CAAEC,KAAMC,YAASC,MAAMC,QAASjB,kBAAiB7F,MAAK,iBAAEA,QAAF,IAAEA,OAAF,EAAEA,EAAO4B,eAAT,QAAoB5B,GAD7E,SAGJsD,EAAYuC,EAAgBtC,QAHxB,cAGpBI,EAHoB,OAI1B2C,GAA2B3C,EAAS+C,GAJV,SAMpBhD,EAAQC,GANY,2CAAH,wDCWV,IAfY,kBAAM,SAACoD,GAAD,OAAU,SAAC5E,GAC1C,OAAQA,EAAOV,MACb,KAAKiE,GACHe,GAAoBtE,EAAOT,QAAQmE,iBACnC,MACF,KAAKF,GACHc,GAAoBtE,EAAOT,QAAQmE,gBAAiB1D,EAAOT,QAAQ1B,OAMvE+G,EAAK5E,OCRM6D,GAAUgB,cAGjBC,IADmBC,OAAOC,sCAAwCC,KAEtEC,IAAe,WAAf,GACEC,YAAiBtB,IACjBuB,KAFF,mBAGKC,O,cCVDC,I,OAAQ,CACZC,UAAW,YACXC,UAAW,YACXC,UAAW,YACXC,UAAW,YACXC,UAAW,YACXC,UAAW,YACXC,YAAa,cACbC,YAAa,cACbC,MAAO,UAGHC,GAAS,CACbC,QAAS,UACTC,UAAW,YACXC,MAAO,QACPC,OAAQ,SACRC,QAAS,UACTC,QAAS,UACTC,MAAO,QACPC,OAAQ,UAGGC,GAAc,SAACnH,EAAMoH,GAChC,IAAMC,EAAiBC,OAAOC,OAAOvB,IAC/BwB,EAAQJ,EAAoB,gBAAkB,cAEpD,OADsBC,EAAeI,QAAO,SAACC,GAAD,OAAoBF,EAAOG,KAAKD,MACvDE,MAAK,SAACF,GAAD,OAAmBA,IAAkB1H,MAkB3D6H,GAAO,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,KAAM9H,EAAgC,EAAhCA,KAAMS,EAA0B,EAA1BA,MAAOsH,EAAmB,EAAnBA,aAC3BC,EAAO,eAAWhC,GAAMhG,GAAjB,YAA0B0G,GAAOjG,IACxCwH,EAfiB,SAACjI,GACxB,GAAImH,GAAYnH,GAAM,GACpB,MAAO,IAGT,GAAImH,GAAYnH,GAAM,GAAQ,CAC5B,IAAMkI,EARoB,SAAClI,GAAD,OAAUA,EAAKmI,OAAO,GAQ7BC,CAAepI,GAClC,MAAM,IAAN,OAAWkI,GAGb,OAAOlI,EAKKqI,CAAUrC,GAAMhG,IAE5B,OACE,cAACiI,EAAD,2BAAkB,UAARA,EAAkB,CAAEK,QAASP,GAAiB,IAAxD,IAA6DQ,UAAWP,EAAxE,SACGF,MAYPD,GAAKW,aAAe,CAAE/H,MAAO,UAAWsH,aAAc,IAEvCF,ICxDXY,GFKmCC,GGhBxBb,GFmEAA,G,qBGnEAc,GCGK,kBAClB,sBAAKJ,UAAWK,KAAOC,QAAvB,UACE,cAAC,GAAD,CAAMf,KAAK,gCAAgC9H,KAAK,YAAYS,MAAM,WAClE,sBAAK8H,UAAWK,KAAOE,gBAAvB,UACE,cAAC,KAAD,CAAkB1K,QAAQ,WAAW2K,MAAM,UAA3C,oBAGA,cAAC,KAAD,CAAkB3K,QAAQ,YAAY2K,MAAM,UAA5C,6B,sHCDAC,GAAgB,CACpBC,UAAU,EACVxG,aAAc,GACdpF,MAAO,GACPqF,OAAQ,EACRwG,MAAO,IAGIC,GACD,wBADCA,GAEA,yBAFAA,GAGN,mCAGDC,GAASC,OAAaC,MAAM,CAChC7G,aAAc4G,OAEXE,SAASJ,IACZzG,OAAQ2G,KACEF,IACPK,SAASL,IACTM,WAAU,SAACC,GAAD,OAAUC,OAAOC,MAAMF,QAAOG,EAAYH,KACpDH,SAASJ,MAyICW,GAtIK,SAAC,GAA2B,IAAD,EAAxBC,EAAwB,EAAxBA,kBAAwB,EASzCC,aAAQ,CACVC,KAAM,WACNjB,iBACAkB,SAAUC,aAAYf,MAVtBgB,EAF2C,EAE3CA,MACAC,EAH2C,EAG3CA,QACAC,EAJ2C,EAI3CA,aACAC,EAL2C,EAK3CA,MACAC,EAN2C,EAM3CA,SACAC,EAP2C,EAO3CA,UAP2C,IAQ3CC,UAAaC,EAR8B,EAQ9BA,OAAQC,EARsB,EAQtBA,QARsB,EAeJ,CAACL,EAAM,YAAaA,EAAM,gBAAiBA,EAAM,WAAnFtB,EAfsC,KAe5BxG,EAf4B,KAedC,EAfc,KAgBvC3C,EAAW8K,cAoBjB,OAXAC,qBAAU,WAAO,IAAD,EACdN,EAAS,SAAS,UAAAT,EAAkBhI,MAAK,SAACgJ,GAAD,OAAcA,EAAS9N,OAASwF,YAAvD,eAAsEpF,QAAS,MAChG,CAACoF,EAAcsH,IAElBe,qBAAU,WACR,GAAIpI,GAAUD,IAAiBkI,EAAOjI,OAAQ,CAAC,IAAD,EACtCwG,GAAQ,UAAAa,EAAkBhI,MAAK,SAACgJ,GAAD,OAAcA,EAAS9N,OAASwF,YAAvD,eAAsEpF,OAAQoN,EAAU,UACtGD,EAAS,QAASQ,WAAW9B,EAAM+B,QAAQ,QAE5C,CAACvI,EAAQD,EAAckI,EAAOjI,OAAQqH,IAGvC,uBAAMmB,SAAUZ,GAnBD,SAACzK,GAAU,IXjCDuE,EWkCjB1B,EAA0C7C,EAA1C6C,OAAQD,EAAkC5C,EAAlC4C,aAAcwG,EAAoBpJ,EAApBoJ,SAAU5L,EAAUwC,EAAVxC,MAGxC0C,GXrCyBqE,EWqCH,CAAEtC,OAAQ,EAAGY,SAAQD,eAAcwG,WAAU5L,SXrC3C,uCAAqB,WAAO0C,GAAP,SAAAZ,EAAA,yDAC/CY,EAbqC,CAAEC,KAAMgE,KAYE,UAGzCI,EAAgB6E,SAHyB,gCAIrCkC,KAAqBrH,UAAUM,GAJM,6CAMrC+G,KAAqBpH,WAAWK,GANK,OAQ7CrE,EAASsE,GAAoBD,IAC7BpG,EAAaC,QA3BgB,uBAkBgB,kDAW7C8B,EAASoE,GAAiBC,EAAiB,KAAMjE,UACjDnC,EAAaO,MAAM,KAAM4B,SAZoB,0DAArB,2DWoDgBoI,UAAWK,KAAOC,QAA1D,UACE,sBAAKN,UAAWK,KAAOwC,QAAvB,UACE,cAAC,GAAD,CAAMtD,KAAK,oBAAoB9H,KAAK,cACpC,cAAC,GAAD,CAAM8H,KAAMmB,EAAW,MAAQ,OAAQjJ,KAAK,YAAYS,MAAOwI,EAAW,UAAY,WACtF,cAAC,KAAD,CACEhM,KAAK,WACLoN,QAASA,EACTgB,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,OACN,cAAC,KAAD,aACEvC,MAAM,UACNwC,QAASD,EAAM1J,MACf4J,WAAY,CAAE,aAAc,qBACxBF,UAKZ,sBAAK/C,UAAWK,KAAO6C,KAAvB,UACE,eAAC,KAAD,CAAuBrN,QAAQ,WAAWG,QAASoM,EAAOlI,aAA1D,UACE,cAAC,KAAD,CAAsBiJ,GAAG,eAAzB,kBACA,cAAC,KAAD,CACEzO,KAAK,eACLoN,QAASA,EACTgB,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,OACN,cAAC,KAAD,yBACEK,QAAQ,eACRD,GAAG,eACHE,MAAM,eACNJ,WAAY,CAAE,cAAe,iBACzBF,GALN,aAOGvB,EAAkBpJ,KAAI,SAACoK,GAAD,OACrB,cAAC,KAAD,CAAwCnJ,MAAOmJ,EAAS9N,KAAxD,SACG8N,EAAS9N,MADa8N,EAASvN,eAO1C,cAAC,KAAD,oBACGmN,EAAOlI,oBADV,aACG,EAAqBtC,aAG1B,cAAC,KAAD,CACElD,KAAK,QACLoN,QAASA,EACTgB,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,OACN,cAAC,KAAD,aACEI,GAAG,QACHE,MAAM,QACNxN,QAAQ,WACRyN,UAAQ,GACJP,OAIV,cAAC,KAAD,CACErO,KAAK,SACLoN,QAASA,EACTgB,OAAQ,kBAAGC,EAAH,EAAGA,MAAH,OACN,cAAC,KAAD,aACEI,GAAG,SACH1L,KAAK,SACL4L,MAAM,SACNxN,QAAQ,WACRG,QAASoM,EAAOjI,OAChBoJ,WAAU,UAAEnB,EAAOjI,cAAT,aAAE,EAAevC,SACvBmL,OAIV,cAAC,KAAD,CACErO,KAAK,QACLoN,QAASA,EACTgB,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,OACN,cAAC,KAAD,aACEI,GAAG,QACHE,MAAM,QACNxN,QAAQ,WACRyN,UAAQ,GACJP,UAKZ,sBAAK/C,UAAWK,KAAOE,gBAAvB,UACE,cAAC,KAAD,CAAkB+C,UAAWjB,EAAS5K,KAAK,SAAS5B,QAAQ,YAAY2K,MAAM,UAA9E,qBAGA,cAAC,KAAD,CAAkB3K,QAAQ,WAAW2K,MAAM,UAAUgD,QAAS,kBAAM3B,EAAMpB,KAA1E,0BCzJOgD,GALY,WAAO,IACxB9L,EAAc+L,aAAY,SAACxL,GAAD,OAAWA,EAAMkE,SAA3CzE,UACR,OAAO,cAAC,GAAD,CAAa6J,kBAAmB7J,K,oGCN1B,GAGJ,UAHI,GAIN,UCEHgM,GAAc,SAACC,GAAD,OAAa9M,KAAKC,MAAe,IAAT6M,GAAgB,KAAKlB,QAAQ,IAEnEmB,GAAoB,SAACD,GACzB,IAAME,EAAiBF,EAAOG,MAAM,KAAK,GAAGA,MAAM,IAE9CC,EAAI,EACFC,EAAkBH,EAAeI,aAAY,SAACC,EAAKC,GAAN,SAC7CJ,EAAI,IAAM,GAAKA,IAAMF,EAAeO,OAAvC,WAAqDD,GAASA,GAAME,OAAOH,KAC3E,IAEH,MAAM,GAAN,OAAUF,EAAV,YAA6BL,EAAOG,MAAM,KAAK,KAG3CQ,GAAc,SAACzP,GACnB,IAAM0P,EAAeb,GAAY7O,GAC3B2P,EAAiBZ,GAAkBW,GAEzC,MAAM,GAAN,OAAUC,EAAV,YAA4BvP,IAGxBwP,GAAe,SAAC7P,GACpB,IAAM8P,EAAgBhB,GAAY9O,GAClC,OAAO8P,GAAiB,EAAjB,WAAyBA,EAAzB,eAA+CA,EAA/C,MAGHC,GAAY,SAAC7P,GACjB,IAAM8P,EAAalB,GAAY5O,GACzB+P,EAAejB,GAAkBgB,GAEvC,OAAQ9P,EAAD,UAAsB+P,EAAtB,aAAuC5P,GAAhC,WAoDD6P,GAtCO,SAAC,GAA2B,IAC1CC,EAZwB,SAACxD,GAAD,OAC9BA,EAAkBpJ,KAAI,SAACoK,GAAD,mBAAC,eAEhBA,GAFe,IAGlB1N,MAAOyP,GAAY/B,EAAS1N,OAC5BD,OAAQ6P,GAAalC,EAAS3N,QAC9BE,IAAK6P,GAAUpC,EAASzN,UAMOkQ,CADY,EAAxBzD,mBACyD,IAEhF,OACE,cAAC,KAAD,CAA0B0D,UAAWC,KAArC,SACE,eAAC,KAAD,CAAiBC,aAAW,eAA5B,UACE,cAAC,KAAD,UACE,eAAC,KAAD,WACE,cAAC,KAAD,IACA,cAAC,KAAD,mBACA,cAAC,KAAD,CAAqBC,MAAM,QAA3B,2BACA,cAAC,KAAD,CAAqBA,MAAM,QAA3B,wBACA,cAAC,KAAD,CAAqBA,MAAM,QAA3B,6BAGJ,cAAC,KAAD,UACGL,EAA2B5M,KAAI,SAACoK,GAAD,OAC9B,eAAC,KAAD,WACE,cAAC,KAAD,CAAqB0C,UAAU,KAAKI,MAAM,MAA1C,SACE,cAAC,KAAD,CAAkBC,IAAK/C,EAAS9N,KAAM8Q,IAAKhD,EAASxN,aAEtD,cAAC,KAAD,CAAqBkQ,UAAU,KAAKI,MAAM,MAA1C,SAAiD9C,EAAS9N,OAC1D,cAAC,KAAD,CAAqB2Q,MAAM,QAA3B,SAAoC7C,EAAS1N,QAC7C,cAAC,KAAD,CACE2Q,MAA8B,MAAvBjD,EAAS3N,OAAO,GAAa,CAAE2L,MAAOkF,IAAmB,CAAElF,MAAOkF,IACzEL,MAAM,QAFR,SAIG7C,EAAS3N,SAEZ,cAAC,KAAD,CAAqBwQ,MAAM,QAA3B,SAAoC7C,EAASzN,QAZtByN,EAASvN,iBP5DxC0Q,GAAYC,cAAW,iBAAO,CAClCC,OAAQ,CACNC,QAAS,OACTC,eAAgB,cAKhBC,GAAgB,GAuBLC,GArBc,WAAO,IAAD,EACSvC,aAAY,SAACxL,GAAD,OAAWA,EAAMkE,SAA/DpE,EADyB,EACzBA,UAAWC,EADc,EACdA,QAASN,EADK,EACLA,UACtB8H,EAAUkG,KAMhB,OAJApD,qBAAU,WACRrC,IAAiB,IAChB,IAEClI,GAAakI,IACfA,IAAiB,EACV,qBAAKF,UAAWP,EAAQoG,OAAxB,SAAgC,cAACK,GAAA,EAAD,OAGrCjO,GAAWD,EACN,cAAC,GAAD,CAAewJ,kBAAmBwE,MAG3CA,GAAgBrO,EACT,cAAC,GAAD,CAAe6J,kBAAmB7J,M,SQhC5BwO,GCMI,WACjB,IAAM3O,EAAW8K,cAWjB,OATAC,qBAAU,WACR/K,EAASD,KACT,IAAM6O,EAAaC,aAAY,kBAAM7O,EAASD,OvBZjB,KuBc7B,OAAO,WACL+O,cAAcF,MAEf,IAGD,sBAAKpG,UAAWM,WAAhB,UACE,qBAAKN,UAAWuG,SAAhB,SACE,cAAC,GAAD,MAEF,qBAAKvG,UAAWzD,eAAhB,SACE,cAAC,GAAD,U,UCDOiK,GAlBH,WAUV,OATAC,EAAgBrN,QAAQjE,EAAoB,CAAC,CAC3CoE,OAAQ,EACRiB,MAAO,CACLkM,IAAK,EACLC,IAAK,IAEPnK,aAAc,MAId,sBAAKwD,UAAWM,WAAhB,UACE,cAAC,GAAD,IACA,cAAC,GAAD,QCTAsG,I,ObQUC,YACZ9K,GAAkBC,IAClBmE,GACAlD,KaTJ6J,IAAShE,OACP,cAAC,IAAMiE,WAAP,UACE,cAAC,IAAD,CAAUH,MAAOA,GAAjB,SACE,cAAC,IAAD,CAAiB5K,QAASA,GAA1B,SACE,eAAC,IAAD,CAAkBgL,SzBfO,EyBezB,UACE,cAAC,EAAD,IACA,cAAC,GAAD,aAKRC,SAASC,eAAe,U,mBCvB1B5S,EAAOC,QAAU,CAAC,QAAU,6BAA6B,QAAU,6BAA6B,KAAO,0BAA0B,gBAAkB,uC,mBCAnJD,EAAOC,QAAU,CAAC,QAAU,4BAA4B,MAAQ,0BAA0B,YAAc,mC","file":"static/js/main.4317ffa9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"siteHeading_wrapper__1fqlO\",\"buttonContainer\":\"siteHeading_buttonContainer__2nf2-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__1QhmW\"};","import { useSnackbar } from 'notistack';\r\nimport React from 'react';\r\n\r\nconst InnerSnackbarUtilsConfigurator = ({ setUseSnackbarRef }) => {\r\n  setUseSnackbarRef(useSnackbar());\r\n  return null;\r\n};\r\n\r\nlet useSnackbarRef;\r\nconst setUseSnackbarRef = (useSnackbarRefProp) => {\r\n  useSnackbarRef = useSnackbarRefProp;\r\n};\r\n\r\nexport const SnackbarUtilsConfigurator = () => <InnerSnackbarUtilsConfigurator setUseSnackbarRef={setUseSnackbarRef} />;\r\n\r\nexport const snackActions = {\r\n  success(msg) {\r\n    this.toast(msg, { variant: 'success' });\r\n  },\r\n  warning(msg) {\r\n    this.toast(msg, { variant: 'warning' });\r\n  },\r\n  info(msg) {\r\n    this.toast(msg, { variant: 'info' });\r\n  },\r\n  error(msg) {\r\n    this.toast(msg, { variant: 'error' });\r\n  },\r\n  toast(msg, options = {}) {\r\n    useSnackbarRef.enqueueSnackbar(msg, options);\r\n  },\r\n  dismiss(key) {\r\n    useSnackbarRef.closeSnackbar(key);\r\n  }\r\n};\r\n","export class StockBuilder {\r\n  setName(name) {\r\n    this.name = name.toUpperCase();\r\n    return this;\r\n  }\r\n\r\n  setChange(change) {\r\n    this.change = change;\r\n    return this;\r\n  }\r\n\r\n  setPrice(price) {\r\n    this.price = price;\r\n    return this;\r\n  }\r\n\r\n  setCap(cap) {\r\n    this.cap = cap;\r\n    return this;\r\n  }\r\n\r\n  setImageUrl(imageUrl) {\r\n    this.imageUrl = imageUrl;\r\n    return this;\r\n  }\r\n\r\n  build() {\r\n    return ({\r\n      uuid: this.name,\r\n      name: this.name,\r\n      change: this.change,\r\n      price: this.price,\r\n      cap: this.cap,\r\n      imageUrl: this.imageUrl\r\n    });\r\n  }\r\n}\r\n","export const BASE_CURRENCY = 'USD';\r\nexport const API_CALL_INTERVAL = 10000;\r\nexport const MAX_NOTIFICATIONS = 3;\r\nexport const USERS_PROFILES_KEY = 'usersProfiles';\r\n","import axios from 'axios';\r\nimport { BASE_CURRENCY } from '../../../utils/constants';\r\nimport { snackActions } from '../../../utils/SnackbarUtils';\r\n\r\nconst BASE_URL = 'https://api.coingecko.com/api/v3/coins/markets';\r\nconst NO_CONNECTION_SNACKBAR_KEY = 'noConnection';\r\nconst AVAILABLE_STOCKS = [\r\n  'bitcoin',\r\n  'ethereum',\r\n  'cardano',\r\n  'dogecoin',\r\n  'ripple',\r\n  'polkadot',\r\n  'uniswap',\r\n  'chainlink',\r\n  'litecoin',\r\n  'stellar'\r\n];\r\n\r\nexport const STOCK_GET_INIT = 'stock/get/init';\r\nexport const STOCK_GET_SUCCESS = 'stock/get/success';\r\nexport const STOCK_GET_FAILURE = 'stock/get/failure';\r\n\r\nexport const getStockInit = () => ({ type: STOCK_GET_INIT });\r\n\r\nexport const getStockFail = (error) => ({\r\n  type: STOCK_GET_FAILURE,\r\n  payload: { error }\r\n});\r\n\r\nexport const getStockSuccess = (stockData) => ({\r\n  type: STOCK_GET_SUCCESS,\r\n  payload: { stockData }\r\n});\r\n\r\nconst fetchStockData = async () => {\r\n  const cacheBuster = Math.round(new Date().getTime() / 1000);\r\n  const url = `${BASE_URL}?vs_currency=${BASE_CURRENCY}&ids=${AVAILABLE_STOCKS.join(',')}&cb=${cacheBuster}`;\r\n  const { data } = await axios.get(url);\r\n  return data;\r\n};\r\n\r\nexport const getTickers = () => async (dispatch) => {\r\n  dispatch(getStockInit());\r\n  try {\r\n    const data = await fetchStockData();\r\n    dispatch(getStockSuccess(data));\r\n    snackActions.dismiss(NO_CONNECTION_SNACKBAR_KEY);\r\n  } catch (error) {\r\n    dispatch(getStockFail(error.message));\r\n    snackActions.toast(error.message, {\r\n      variant: 'error',\r\n      preventDuplicate: true,\r\n      persist: true,\r\n      key: NO_CONNECTION_SNACKBAR_KEY\r\n    });\r\n  }\r\n};\r\n","import { StockBuilder } from '../../../utils/stockBuilder';\r\nimport { STOCK_GET_INIT, STOCK_GET_SUCCESS, STOCK_GET_FAILURE } from './actions';\r\n\r\nexport const initialState = {\r\n  stockData: [],\r\n  isLoading: true,\r\n  isError: false,\r\n  error: null\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case STOCK_GET_INIT: {\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        isError: false,\r\n        error: initialState.error\r\n      };\r\n    }\r\n    case STOCK_GET_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        stockData: action.payload.stockData.map(\r\n          (item) => new StockBuilder()\r\n            .setName(item.symbol)\r\n            .setChange(item.price_change_percentage_24h)\r\n            .setPrice(item.current_price)\r\n            .setCap(item.market_cap)\r\n            .setImageUrl(item.image)\r\n            .build()\r\n        ),\r\n        isLoading: false\r\n      };\r\n    }\r\n    case STOCK_GET_FAILURE: {\r\n      return {\r\n        ...state,\r\n        stockData: initialState.stockData,\r\n        isLoading: false,\r\n        isError: true,\r\n        error: action.payload.error\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import localforage from 'localforage';\r\nimport { USERS_PROFILES_KEY } from '../utils/constants';\r\n\r\nconst database = {\r\n  async getItem(key) {\r\n    return localforage.getItem(key);\r\n  },\r\n  async setItem(key, value) {\r\n    return localforage.setItem(key, value);\r\n  }\r\n};\r\n\r\nexport const getUserById = async (userId) => (\r\n  await database.getItem(USERS_PROFILES_KEY)).find((user) => user.userId === userId);\r\n\r\nexport const setUser = async (profile) => {\r\n  const usersProfiles = await database.getItem(USERS_PROFILES_KEY);\r\n  const userIndex = usersProfiles.findIndex((user) => user.userId === profile.userId);\r\n\r\n  if (userIndex === -1) {\r\n    usersProfiles.push(profile);\r\n  } else {\r\n    usersProfiles[userIndex] = profile;\r\n  }\r\n\r\n  await database.setItem(USERS_PROFILES_KEY, usersProfiles);\r\n};\r\n\r\nexport default database;\r\n","import { getUserById, setUser } from './databaseService';\r\n\r\nconst calculateNewFunds = async ({ userId, wallet, currencyName, amount }) => {\r\n  const oldFunds = await wallet.getFunds({ userId, currencyName });\r\n  return oldFunds + amount;\r\n};\r\n\r\nconst setProfileFunds = ({ profile, newFunds, currencyName }) => {\r\n  profile.funds[currencyName] = newFunds;\r\n};\r\n\r\nconst updateFunds = async ({ userId, wallet, currencyName, amount }) => {\r\n  const newFunds = await calculateNewFunds({ userId, wallet, currencyName, amount });\r\n\r\n  const profile = await getUserById(userId);\r\n  setProfileFunds({ profile, newFunds, currencyName });\r\n\r\n  await setUser(profile);\r\n};\r\n\r\nconst walletService = {\r\n  async getFunds({ userId, currencyName }) {\r\n    const userFunds = (await getUserById(userId)).funds;\r\n    return currencyName ? userFunds[currencyName] ?? 0 : userFunds;\r\n  },\r\n\r\n  async addFunds({ userId, currencyName, amount }) {\r\n    await updateFunds({ userId, wallet: walletService, currencyName, amount });\r\n  },\r\n\r\n  async subtractFunds({ userId, currencyName, amount }) {\r\n    await updateFunds({ userId, wallet: walletService, currencyName, amount: -amount });\r\n  }\r\n};\r\n\r\nexport default walletService;\r\n","export class NotEnoughFundsError extends Error {\r\n  constructor() {\r\n    super('User do not have enough funds');\r\n    this.name = this.constructor.name;\r\n  }\r\n}\r\n","import walletService from './walletService';\r\nimport { BASE_CURRENCY } from '../utils/constants';\r\nimport { NotEnoughFundsError } from '../utils/errors';\r\n\r\nexport const validateIfUserHasSufficientFunds = async ({ userId, wallet, currencyName, amountToPay }) => {\r\n  const availableFunds = await wallet.getFunds({ userId, currencyName });\r\n\r\n  if (availableFunds < amountToPay) {\r\n    throw new NotEnoughFundsError();\r\n  }\r\n};\r\n\r\nexport const exchangeCrypto = async ({ userId, wallet, currencyToBuy, currencyToPay, amountToBuy, amountToPay }) => {\r\n  await validateIfUserHasSufficientFunds({ userId, wallet, currencyName: currencyToPay, amountToPay });\r\n\r\n  await wallet.addFunds({ userId, currencyName: currencyToBuy, amount: amountToBuy });\r\n  await wallet.subtractFunds({ userId, currencyName: currencyToPay, amount: amountToPay });\r\n};\r\n\r\nexport default (wallet = walletService) => ({\r\n  async buyCrypto({ userId, currencyName, amount, price }) {\r\n    await exchangeCrypto({\r\n      userId,\r\n      wallet,\r\n      currencyToBuy: currencyName,\r\n      currencyToPay: BASE_CURRENCY,\r\n      amountToBuy: amount,\r\n      amountToPay: amount * price\r\n    });\r\n  },\r\n\r\n  async sellCrypto({ userId, currencyName, amount, price }) {\r\n    await exchangeCrypto({\r\n      userId,\r\n      wallet,\r\n      currencyName,\r\n      currencyToBuy: BASE_CURRENCY,\r\n      currencyToPay: currencyName,\r\n      amountToBuy: amount * price,\r\n      amountToPay: amount\r\n    });\r\n  }\r\n});\r\n","import transactionService from '../../../services/transactionService';\r\nimport { snackActions } from '../../../utils/SnackbarUtils';\r\n\r\nconst EXCHANGE_SUCCESS_MESSAGE = 'Exchange successful';\r\n\r\nexport const EXCHANGE_MAKE_INIT = 'exchange/make/init';\r\nexport const EXCHANGE_MAKE_SUCCESS = 'exchange/make/success';\r\nexport const EXCHANGE_MAKE_FAILURE = 'exchange/make/failure';\r\n\r\nexport const makeExchangeInit = () => ({ type: EXCHANGE_MAKE_INIT });\r\n\r\nexport const makeExchangeFail = (transactionInfo, error) => ({\r\n  type: EXCHANGE_MAKE_FAILURE,\r\n  payload: { transactionInfo, error }\r\n});\r\n\r\nexport const makeExchangeSuccess = (transactionInfo) => ({\r\n  type: EXCHANGE_MAKE_SUCCESS,\r\n  payload: { transactionInfo }\r\n});\r\n\r\nexport const makeExchange = (transactionInfo) => async (dispatch) => {\r\n  dispatch(makeExchangeInit());\r\n  try {\r\n    if (transactionInfo.isBuying) {\r\n      await transactionService().buyCrypto(transactionInfo);\r\n    } else {\r\n      await transactionService().sellCrypto(transactionInfo);\r\n    }\r\n    dispatch(makeExchangeSuccess(transactionInfo));\r\n    snackActions.success(EXCHANGE_SUCCESS_MESSAGE);\r\n  } catch (error) {\r\n    dispatch(makeExchangeFail(transactionInfo, error.message));\r\n    snackActions.error(error.message);\r\n  }\r\n};\r\n","import { EXCHANGE_MAKE_INIT, EXCHANGE_MAKE_SUCCESS, EXCHANGE_MAKE_FAILURE } from './actions';\r\n\r\nexport const initialState = {\r\n  isLoading: true,\r\n  isError: false,\r\n  error: null\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case EXCHANGE_MAKE_INIT: {\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        isError: false,\r\n        error: initialState.error\r\n      };\r\n    }\r\n    case EXCHANGE_MAKE_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        isLoading: false\r\n      };\r\n    }\r\n    case EXCHANGE_MAKE_FAILURE: {\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        isError: true,\r\n        error: action.payload.error\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { connectRouter } from 'connected-react-router';\r\nimport stock from './stock/reducer';\r\nimport exchange from './exchange/reducer';\r\n\r\nconst createRootReducer = (history) => combineReducers({\r\n  router: connectRouter(history),\r\n  stock,\r\n  exchange\r\n});\r\n\r\nexport default createRootReducer;\r\n","import { DateTime } from 'luxon';\r\nimport { getUserById, setUser } from '../../services/databaseService';\r\n\r\nconst appendTransactionToProfile = (profile, transaction) => {\r\n  profile.transactions = [...profile.transactions, transaction];\r\n};\r\n\r\nconst registerTransaction = async (transactionInfo, error) => {\r\n  const newTransactionRecord = { time: DateTime.now().toISO(), transactionInfo, error: error?.message ?? error };\r\n\r\n  const profile = await getUserById(transactionInfo.userId);\r\n  appendTransactionToProfile(profile, newTransactionRecord);\r\n\r\n  await setUser(profile);\r\n};\r\n\r\nexport default registerTransaction;\r\n","import registerTransaction from './middlewares/transactionRegister';\r\nimport { EXCHANGE_MAKE_SUCCESS, EXCHANGE_MAKE_FAILURE } from './reducers/exchange/actions';\r\n\r\nconst exchangeMiddleware = () => (next) => (action) => {\r\n  switch (action.type) {\r\n    case EXCHANGE_MAKE_SUCCESS:\r\n      registerTransaction(action.payload.transactionInfo);\r\n      break;\r\n    case EXCHANGE_MAKE_FAILURE:\r\n      registerTransaction(action.payload.transactionInfo, action.payload.error);\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n\r\n  next(action);\r\n};\r\n\r\nexport default [exchangeMiddleware];\r\n","import { createHashHistory } from 'history';\r\nimport { applyMiddleware, compose, createStore } from 'redux';\r\nimport { routerMiddleware } from 'connected-react-router';\r\nimport thunk from 'redux-thunk';\r\nimport createRootReducer from './reducers';\r\nimport customMiddlewares from './configureMiddlewares';\r\n\r\nexport const history = createHashHistory();\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst enhancer = composeEnhancers(\r\n  applyMiddleware(\r\n    routerMiddleware(history),\r\n    thunk,\r\n    ...customMiddlewares\r\n  )\r\n);\r\n\r\nexport default function configureStore(preloadedState) {\r\n  const store = createStore(\r\n    createRootReducer(history),\r\n    preloadedState,\r\n    enhancer\r\n  );\r\n\r\n  return store;\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './text.scss';\r\n\r\nconst types = {\r\n  HEADING_1: 'heading-1',\r\n  HEADING_2: 'heading-2',\r\n  HEADING_3: 'heading-3',\r\n  HEADING_4: 'heading-4',\r\n  HEADING_5: 'heading-5',\r\n  HEADING_6: 'heading-6',\r\n  PARAGRAPH_1: 'paragraph-1',\r\n  PARAGRAPH_2: 'paragraph-2',\r\n  LABEL: 'label'\r\n};\r\n\r\nconst states = {\r\n  PRIMARY: 'primary',\r\n  SECONDARY: 'secondary',\r\n  MUTED: 'muted',\r\n  ACCENT: 'accent',\r\n  WARNING: 'warning',\r\n  SUCCESS: 'success',\r\n  ERROR: 'error',\r\n  BRIGHT: 'bright'\r\n};\r\n\r\nexport const isSupported = (type, shouldBeParagraph) => {\r\n  const supportedTypes = Object.values(types);\r\n  const regex = shouldBeParagraph ? /paragraph-\\d+/ : /heading-\\d+/;\r\n  const filteredTypes = supportedTypes.filter((supportedType) => (regex).test(supportedType));\r\n  return filteredTypes.some((supportedType) => supportedType === type);\r\n};\r\n\r\nexport const getHeadingSize = (type) => type.slice(-1);\r\n\r\nexport const selectTag = (type) => {\r\n  if (isSupported(type, true)) {\r\n    return 'p';\r\n  }\r\n\r\n  if (isSupported(type, false)) {\r\n    const headerSize = getHeadingSize(type);\r\n    return `h${headerSize}`;\r\n  }\r\n\r\n  return type;\r\n};\r\n\r\nconst Text = ({ text, type, state, labelControl }) => {\r\n  const classes = `text ${types[type]} ${states[state]}`;\r\n  const Tag = selectTag(types[type]);\r\n\r\n  return (\r\n    <Tag {...(Tag === 'label' ? { htmlFor: labelControl } : {})} className={classes}>\r\n      {text}\r\n    </Tag>\r\n  );\r\n};\r\n\r\nText.propTypes = {\r\n  text: PropTypes.string.isRequired,\r\n  type: PropTypes.oneOf(Object.keys(types)).isRequired,\r\n  state: PropTypes.oneOf(Object.keys(states)),\r\n  labelControl: PropTypes.string\r\n};\r\n\r\nText.defaultProps = { state: 'PRIMARY', labelControl: '' };\r\n\r\nexport default Text;\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport CurrencyTable from './CurrencyTable';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  center: {\r\n    display: 'flex',\r\n    justifyContent: 'center'\r\n  }\r\n}));\r\n\r\nlet canShowSpinner;\r\nlet stockDataPrev = [];\r\n\r\nconst CurrencyTableWrapper = () => {\r\n  const { isLoading, isError, stockData } = useSelector((state) => state.stock);\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    canShowSpinner = true;\r\n  }, []);\r\n\r\n  if (isLoading && canShowSpinner) {\r\n    canShowSpinner = false;\r\n    return <div className={classes.center}><CircularProgress /></div>;\r\n  }\r\n\r\n  if (isError || isLoading) {\r\n    return <CurrencyTable stockExchangeData={stockDataPrev} />;\r\n  }\r\n\r\n  stockDataPrev = stockData;\r\n  return <CurrencyTable stockExchangeData={stockData} />;\r\n};\r\n\r\nexport default CurrencyTableWrapper;\r\n","import Text from './Text';\r\n\r\nexport default Text;\r\n","import SiteHeading from './SiteHeading';\r\n\r\nexport default SiteHeading;\r\n","import React from 'react';\r\nimport * as Component from '@material-ui/core';\r\nimport Text from '../../components/Text';\r\nimport styles from './siteHeading.module.scss';\r\n\r\nconst SiteHeading = () => (\r\n  <div className={styles.wrapper}>\r\n    <Text text=\"Cryptocurrency stock exchange\" type=\"HEADING_3\" state=\"ACCENT\" />\r\n    <div className={styles.buttonContainer}>\r\n      <Component.Button variant=\"outlined\" color=\"primary\">\r\n        Log in\r\n      </Component.Button>\r\n      <Component.Button variant=\"contained\" color=\"primary\">\r\n        Register\r\n      </Component.Button>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default SiteHeading;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { useForm, Controller } from 'react-hook-form';\r\nimport * as Component from '@material-ui/core';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from 'yup';\r\nimport styles from './transaction.module.scss';\r\nimport Text from '../../components/Text';\r\nimport { makeExchange } from '../../redux/reducers/exchange/actions';\r\n\r\nconst defaultValues = {\r\n  isBuying: true,\r\n  currencyName: '',\r\n  price: '',\r\n  amount: 0,\r\n  total: ''\r\n};\r\n\r\nexport const errorMessages = {\r\n  required: 'The field is required',\r\n  typeError: 'Value must be a number',\r\n  min: 'Amount must be a positive number'\r\n};\r\n\r\nconst schema = yup.object().shape({\r\n  currencyName: yup\r\n    .string()\r\n    .required(errorMessages.required),\r\n  amount: yup\r\n    .number(errorMessages.typeError)\r\n    .positive(errorMessages.min)\r\n    .transform((val) => (Number.isNaN(val) ? undefined : val))\r\n    .required(errorMessages.required)\r\n});\r\n\r\nconst Transaction = ({ stockExchangeData }) => {\r\n  const {\r\n    reset,\r\n    control,\r\n    handleSubmit,\r\n    watch,\r\n    setValue,\r\n    getValues,\r\n    formState: { errors, isValid }\r\n  } = useForm({\r\n    mode: 'onChange',\r\n    defaultValues,\r\n    resolver: yupResolver(schema)\r\n  });\r\n\r\n  const [isBuying, currencyName, amount] = [watch('isBuying'), watch('currencyName'), watch('amount')];\r\n  const dispatch = useDispatch();\r\n\r\n  const onSubmit = (data) => {\r\n    const { amount, currencyName, isBuying, price } = data;\r\n\r\n    // TODO: this is temporary ID and should be replaced by real user ID\r\n    dispatch(makeExchange({ userId: 1, amount, currencyName, isBuying, price }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setValue('price', stockExchangeData.find((dataItem) => dataItem.name === currencyName)?.price || '');\r\n  }, [currencyName, stockExchangeData]);\r\n\r\n  useEffect(() => {\r\n    if (amount && currencyName && !errors.amount) {\r\n      const total = stockExchangeData.find((dataItem) => dataItem.name === currencyName)?.price * getValues('amount');\r\n      setValue('total', parseFloat(total.toFixed(2)));\r\n    }\r\n  }, [amount, currencyName, errors.amount, stockExchangeData]);\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)} className={styles.wrapper}>\r\n      <div className={styles.heading}>\r\n        <Text text=\"Transaction Type:\" type=\"HEADING_5\" />\r\n        <Text text={isBuying ? 'Buy' : 'Sell'} type=\"HEADING_5\" state={isBuying ? 'SUCCESS' : 'ACCENT'} />\r\n        <Controller\r\n          name=\"isBuying\"\r\n          control={control}\r\n          render={({ field }) => (\r\n            <Component.Switch\r\n              color=\"primary\"\r\n              checked={field.value}\r\n              inputProps={{ 'aria-label': 'primary checkbox' }}\r\n              {...field}\r\n            />\r\n          )}\r\n        />\r\n      </div>\r\n      <div className={styles.form}>\r\n        <Component.FormControl variant=\"outlined\" error={!!errors.currencyName}>\r\n          <Component.InputLabel id=\"currencyName\">Name</Component.InputLabel>\r\n          <Controller\r\n            name=\"currencyName\"\r\n            control={control}\r\n            render={({ field }) => (\r\n              <Component.Select\r\n                labelId=\"currencyName\"\r\n                id=\"currencyName\"\r\n                label=\"currencyName\"\r\n                inputProps={{ 'data-testid': 'currencyName' }}\r\n                {...field}\r\n              >\r\n                {stockExchangeData.map((dataItem) => (\r\n                  <Component.MenuItem key={dataItem.uuid} value={dataItem.name}>\r\n                    {dataItem.name}\r\n                  </Component.MenuItem>\r\n                ))}\r\n              </Component.Select>\r\n            )}\r\n          />\r\n          <Component.FormHelperText>\r\n            {errors.currencyName?.message}\r\n          </Component.FormHelperText>\r\n        </Component.FormControl>\r\n        <Controller\r\n          name=\"price\"\r\n          control={control}\r\n          render={({ field }) => (\r\n            <Component.TextField\r\n              id=\"price\"\r\n              label=\"Price\"\r\n              variant=\"outlined\"\r\n              disabled\r\n              {...field}\r\n            />\r\n          )}\r\n        />\r\n        <Controller\r\n          name=\"amount\"\r\n          control={control}\r\n          render={({ field }) => (\r\n            <Component.TextField\r\n              id=\"amount\"\r\n              type=\"number\"\r\n              label=\"Amount\"\r\n              variant=\"outlined\"\r\n              error={!!errors.amount}\r\n              helperText={errors.amount?.message}\r\n              {...field}\r\n            />\r\n          )}\r\n        />\r\n        <Controller\r\n          name=\"total\"\r\n          control={control}\r\n          render={({ field }) => (\r\n            <Component.TextField\r\n              id=\"total\"\r\n              label=\"Total\"\r\n              variant=\"outlined\"\r\n              disabled\r\n              {...field}\r\n            />\r\n          )}\r\n        />\r\n      </div>\r\n      <div className={styles.buttonContainer}>\r\n        <Component.Button disabled={!isValid} type=\"submit\" variant=\"contained\" color=\"primary\">\r\n          Confirm\r\n        </Component.Button>\r\n        <Component.Button variant=\"outlined\" color=\"primary\" onClick={() => reset(defaultValues)}>\r\n          Reset\r\n        </Component.Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Transaction;\r\n\r\nTransaction.propTypes = {\r\n  stockExchangeData: PropTypes.arrayOf(PropTypes.shape({\r\n    name: PropTypes.string,\r\n    price: PropTypes.number,\r\n    change: PropTypes.number,\r\n    cap: PropTypes.number\r\n  })).isRequired\r\n};\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Transaction from './Transaction';\r\n\r\nconst TransactionWrapper = () => {\r\n  const { stockData } = useSelector((state) => state.stock);\r\n  return <Transaction stockExchangeData={stockData} />;\r\n};\r\n\r\nexport default TransactionWrapper;\r\n","export default {\r\n  accent: '#0880ae',\r\n  warning: '#f2ac57',\r\n  success: '#14a38b',\r\n  error: '#ff7171',\r\n  primary: '#2c2738',\r\n  secondary: '#756f86',\r\n  muted: '#7c9cbf',\r\n  bright: '#fff',\r\n  shade: '#dbe2ea',\r\n  tint: '#ebf4f8'\r\n};\r\n","import React from 'react';\r\nimport * as Component from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport colors from '../../utils/colors';\r\nimport { BASE_CURRENCY } from '../../utils/constants';\r\n\r\nconst roundNumber = (number) => (Math.round(number * 100) / 100).toFixed(2);\r\n\r\nconst formatIntegerPart = (number) => {\r\n  const integerNumbers = number.split('.')[0].split('');\r\n\r\n  let i = 0;\r\n  const numberFormatted = integerNumbers.reduceRight((acc, curr) => (\r\n    ((++i % 3 === 0 && i !== integerNumbers.length) ? `,${curr}` : curr).concat(acc)\r\n  ), '');\r\n\r\n  return `${numberFormatted}.${number.split('.')[1]}`;\r\n};\r\n\r\nconst formatPrice = (price) => {\r\n  const priceRounded = roundNumber(price);\r\n  const priceFormatted = formatIntegerPart(priceRounded);\r\n\r\n  return `${priceFormatted} ${BASE_CURRENCY}`;\r\n};\r\n\r\nconst formatChange = (change) => {\r\n  const changeRounded = roundNumber(change);\r\n  return changeRounded >= 0 ? `+${changeRounded}%` : `${changeRounded}%`;\r\n};\r\n\r\nconst formatCap = (cap) => {\r\n  const capRounded = roundNumber(cap);\r\n  const capFormatted = formatIntegerPart(capRounded);\r\n\r\n  return !cap ? 'Unknown' : `${capFormatted}M ${BASE_CURRENCY}`;\r\n};\r\n\r\nconst formatStockExchangeData = (stockExchangeData) => (\r\n  stockExchangeData.map((dataItem) => (\r\n    {\r\n      ...dataItem,\r\n      price: formatPrice(dataItem.price),\r\n      change: formatChange(dataItem.change),\r\n      cap: formatCap(dataItem.cap)\r\n    }\r\n  ))\r\n);\r\n\r\nconst CurrencyTable = ({ stockExchangeData }) => {\r\n  const stockExchangeDataFormatted = formatStockExchangeData(stockExchangeData || []);\r\n\r\n  return (\r\n    <Component.TableContainer component={Component.Paper}>\r\n      <Component.Table aria-label=\"simple table\">\r\n        <Component.TableHead>\r\n          <Component.TableRow>\r\n            <Component.TableCell />\r\n            <Component.TableCell>Name</Component.TableCell>\r\n            <Component.TableCell align=\"right\">Current Price</Component.TableCell>\r\n            <Component.TableCell align=\"right\">24h Change</Component.TableCell>\r\n            <Component.TableCell align=\"right\">Market Cap</Component.TableCell>\r\n          </Component.TableRow>\r\n        </Component.TableHead>\r\n        <Component.TableBody>\r\n          {stockExchangeDataFormatted.map((dataItem) => (\r\n            <Component.TableRow key={dataItem.uuid}>\r\n              <Component.TableCell component=\"th\" scope=\"row\">\r\n                <Component.Avatar alt={dataItem.name} src={dataItem.imageUrl} />\r\n              </Component.TableCell>\r\n              <Component.TableCell component=\"th\" scope=\"row\">{dataItem.name}</Component.TableCell>\r\n              <Component.TableCell align=\"right\">{dataItem.price}</Component.TableCell>\r\n              <Component.TableCell\r\n                style={dataItem.change[0] === '+' ? { color: colors.success } : { color: colors.error }}\r\n                align=\"right\"\r\n              >\r\n                {dataItem.change}\r\n              </Component.TableCell>\r\n              <Component.TableCell align=\"right\">{dataItem.cap}</Component.TableCell>\r\n            </Component.TableRow>\r\n          ))}\r\n        </Component.TableBody>\r\n      </Component.Table>\r\n    </Component.TableContainer>\r\n  );\r\n};\r\n\r\nexport default CurrencyTable;\r\n\r\nCurrencyTable.propTypes = {\r\n  stockExchangeData: PropTypes.arrayOf(PropTypes.shape({\r\n    name: PropTypes.string,\r\n    price: PropTypes.number,\r\n    change: PropTypes.number,\r\n    cap: PropTypes.number\r\n  })).isRequired\r\n};\r\n","import MarketPage from './MarketPage';\r\n\r\nexport default MarketPage;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport Transaction from '../Transaction';\r\nimport Table from '../CurrencyTable';\r\nimport { wrapper, table, transaction } from './marketPage.module.scss';\r\nimport { getTickers } from '../../redux/reducers/stock/actions';\r\nimport { API_CALL_INTERVAL } from '../../utils/constants';\r\n\r\nconst MarketPage = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getTickers());\r\n    const intervalID = setInterval(() => dispatch(getTickers()), API_CALL_INTERVAL);\r\n\r\n    return () => {\r\n      clearInterval(intervalID);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className={wrapper}>\r\n      <div className={table}>\r\n        <Table />\r\n      </div>\r\n      <div className={transaction}>\r\n        <Transaction />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MarketPage;\r\n","import React from 'react';\r\nimport databaseService from './services/databaseService';\r\nimport { USERS_PROFILES_KEY } from './utils/constants';\r\nimport SiteHeading from './containers/SiteHeading';\r\nimport MarketPage from './containers/MarketPage';\r\nimport { wrapper } from './App.module.scss';\r\n\r\nconst App = () => {\r\n  databaseService.setItem(USERS_PROFILES_KEY, [{\r\n    userId: 1,\r\n    funds: {\r\n      ETH: 5,\r\n      USD: 10\r\n    },\r\n    transactions: []\r\n  }]);\r\n\r\n  return (\r\n    <div className={wrapper}>\r\n      <SiteHeading />\r\n      <MarketPage />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { ConnectedRouter } from 'connected-react-router';\r\nimport { SnackbarProvider } from 'notistack';\r\nimport configureStore, { history } from './redux/configureStore';\r\nimport { MAX_NOTIFICATIONS } from './utils/constants';\r\nimport { SnackbarUtilsConfigurator } from './utils/SnackbarUtils';\r\nimport App from './App';\r\nimport './index.scss';\r\n\r\nconst store = configureStore();\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <ConnectedRouter history={history}>\r\n        <SnackbarProvider maxSnack={MAX_NOTIFICATIONS}>\r\n          <SnackbarUtilsConfigurator />\r\n          <App />\r\n        </SnackbarProvider>\r\n      </ConnectedRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"transaction_wrapper__3yXol\",\"heading\":\"transaction_heading__16XVZ\",\"form\":\"transaction_form__1VHva\",\"buttonContainer\":\"transaction_buttonContainer__1GuD0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"marketPage_wrapper__WC4eI\",\"table\":\"marketPage_table__y7FBq\",\"transaction\":\"marketPage_transaction__39mR2\"};"],"sourceRoot":""}